---
import Layout from '../../layouts/Layout.astro';
import { pageContent } from '../../content/siteContent';
import HeroSection from '../../components/HeroSection.astro';
import GallerySection from '../../components/GallerySection.astro';
import SiteFooter from '../../components/SiteFooter.astro';

const content = pageContent.en;
const { meta, alternates, navLinks, hero, about, reasons, founder, services, story, values, topCtas, cta, footer } = content;

const recommendations = [
	{
		title: 'Isa Gros-Louis — Espace Max Oné Onti Gros-Louis',
		logo: '/images/emgl-logo.png',
		logoAlt: 'Espace Max Oné Onti Gros-Louis logo',
		text: '“Working with Steven was pivotal: solid expertise, clear strategic vision, and precise on-the-ground advice.”'
	},
	{
		title: 'Diane Andicha Picard — Rendez-vous des artisans et artistes de Wendake',
		logo: '/images/rvaaw-logo.png',
		logoAlt: 'Rendez-vous des artisans et artistes de Wendake logo',
		text: '“We highly recommend Steven for his flexibility, commitment, integrity, and rigor in managing timelines. He played a significant role in planning our project, drafting complex documents, financial records, advice, and recommendations that greatly improved the reach of our event.”'
	},
	{
		title: 'Dominic LeBlanc — Minister of Fisheries, Oceans and the Canadian Coast Guard',
		logo: '/images/sig-blk-en.svg',
		logoAlt: 'Government of Canada',
		text:
			'“This accomplishment is the result of the extraordinary and tireless dedication of public servants like you. Thanks to you and your colleagues, Canada once again plays a leading role internationally, and we are on track to make a strong contribution to global ocean stewardship—a legacy for future generations.”'
	},
	{
		title: 'Emmanuel Morin — Projets Autochtones du Québec',
		logo: '/images/projets-autochtones-header.png',
		logoAlt: 'Projets Autochtones du Québec',
		text:
			'“Steven has been devoted to the First Peoples community since his time at the McCord Museum. He volunteered in numerous fundraisers and joined the administrative council to follow the Organization’s progress. He has given all the support he could and remains a precious asset to Projets Autochtones du Québec.”'
	},
	{
		title: 'Camil Picard — Commission des droits de la personne et des droits de la jeunesse',
		logo: '/images/cdpdj-blue.svg',
		logoAlt: 'Commission des droits de la personne et des droits de la jeunesse',
		text:
			'“We thank you warmly for helping make the Table de concertation jeunesse a success. Thank you for your testimony and your commitment.”'
	},
	{
		title: 'Annabelle Laliberté & Dolorès Contré Migwans — McCord Museum',
		logo: '/images/McCord.webp',
		logoAlt: 'McCord Museum',
		text:
			'“On behalf of the Jardin des Premières Nations de Montréal and the McCord Museum, we warmly thank you for the help on Huron-Wendat history and culture. We highlight Steven Germain’s work as researcher and oral history documentalist to sensitize school audiences to First Nations and their relationship with the environment. He showed initiative, curiosity, sensitivity, and ease with respected Elders, compiling key information to build a new program. His work and presence were greatly appreciated.”'
	},
	{
		title: 'Carl Simard — First Nations of Quebec and Labrador Health and Social Services Commission',
		logo: '/images/Logo_CSSSPNQL.svg',
		logoAlt: 'First Nations of Quebec and Labrador Health and Social Services Commission',
		text:
			'“Steven works very hard and adapts to any situation. He organizes his work, respects deadlines, and surfaces local risks and challenges. He is creative, supportive of others, and has the will to get things done.”'
	}
];

const marqueeItems = recommendations;
---

<Layout title={meta.title} description={meta.description} url={meta.url} image={meta.image} ogImageAlt={meta.imageAlt} locale={meta.locale} alternates={alternates}>
	<header class="site-header" id="home">
		<div class="container header-nav">
			<div class="branding header-branding">
				<img class="branding-logo" src="/images/logo-aiionwatha-conseils.svg" alt="Aiionwatha Conseils en gestion logo" width="56" height="56" loading="lazy" />
				<div class="branding-text">
					<span>Aiionwatha</span>
					<small>{footer.brandingSmall}</small>
				</div>
			</div>
			<nav class="nav-links">
				{navLinks.map((link) => (
					<a href={link.href}>{link.label}</a>
				))}
			</nav>
			<div class="header-actions">
				<div class="lang-group">
					<a class="lang-toggle" href="/" lang="fr" aria-label="View the French version of the site">
						Français
					</a>
					<a class="lang-toggle" href="/es" lang="es" aria-label="View the Spanish version of the site">
						Español
					</a>
				</div>
				<a class="button primary small" href={topCtas.calendly} target="_blank" rel="noreferrer">
					Book a call
				</a>
			</div>
		</div>
	</header>

	<HeroSection hero={hero} />

	<section class="about" id="about">
		<div class="container about-grid">
			<div>
				<p class="section-title">{about.sectionTitle}</p>
				<h2>{about.heading}</h2>
				{about.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
			</div>
			<div class="card-stack">
				{reasons.map((reason) => (
					<div class="card">
						<h3>{reason.title}</h3>
						<p>{reason.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="founder">
		<div class="container founder-grid">
			<div class="founder-text">
				<p class="section-title">{founder.sectionTitle}</p>
				<h2>{founder.title}</h2>
				<h3>{founder.subtitle}</h3>
				{founder.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
				<div class="hero-ctas">
					<a class="button primary" href={topCtas.mail}>{founder.primaryCta}</a>
					<a class="button secondary" href={topCtas.phone}>{founder.secondaryCta}</a>
				</div>
			</div>
			<div class="founder-media">
				<img src="/images/start-up-weekend-2018.webp" alt="Steven Germain Gros-Louis at Start-up Weekend 2018" loading="lazy" />
			</div>
		</div>
	</section>

	<section class="services" id="services">
		<div class="container">
			<p class="section-title">{services.sectionTitle}</p>
			<h2>{services.heading}</h2>
			<div class="table-wrap">
				<table class="services-table">
					<thead>
						<tr>
							<th>Service</th>
							<th>Deliverable</th>
							<th>Why now</th>
						</tr>
					</thead>
					<tbody>
						{services.rows.map((row) => (
							<tr>
								<td>{row.title}</td>
								<td>{row.deliverable}</td>
								<td>{row.value}</td>
							</tr>
						))}
					</tbody>
				</table>
			</div>
		</div>
	</section>

	<GallerySection story={story} calendlyUrl={topCtas.calendly} showRecommendations={false} />

	<section class="values" id="values">
		<div class="container">
			<p class="section-title">{values.sectionTitle}</p>
			<h2>{values.heading}</h2>
			<div class="values-grid">
				{values.items.map((value, index) => (
					<div class="value-card">
						<span>{String(index + 1).padStart(2, '0')}</span>
						<h3>{value.title}</h3>
						<p>{value.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="recommendations" aria-label="Rotating recommendations">
		<div class="container">
			<div class="rec-header">
				<p class="section-title">Recommendations</p>
				<h2>What partners say</h2>
				<p class="intro">Two flagship references that show the impact of our collaborations.</p>
			</div>
			<div class="ticker">
				<div class="ticker-track">
					{marqueeItems.map((rec, index) => (
						<article class="rec-card" aria-hidden={index >= recommendations.length}>
							<div class="rec-head">
								{rec.logo ? <img class="rec-logo" src={rec.logo} alt={rec.logoAlt ?? rec.title} loading="lazy" /> : null}
								<h3>{rec.title}</h3>
							</div>
							<p class="rec-quote">{rec.text}</p>
						</article>
					))}
				</div>
			</div>
		</div>
	</section>

	<section class="cta" id="contact">
		<div class="container cta-box">
			<div>
				<p class="section-title">{cta.sectionTitle}</p>
				<h2>{cta.heading}</h2>
				<p>{cta.paragraph}</p>
			</div>
			<div class="cta-actions">
				<a class="button primary" href={topCtas.calendly} target="_blank" rel="noreferrer">{cta.primaryLabel}</a>
				<a class="button secondary" href={topCtas.mail}>{cta.secondaryLabel}</a>
			</div>
		</div>
	</section>

	<SiteFooter footer={footer} navLinks={navLinks} topCtas={topCtas} />

	<style>
		.site-header {
			position: sticky;
			top: 0;
			background: rgba(248, 246, 240, 0.95);
			backdrop-filter: blur(10px);
			border-bottom: 1px solid rgba(13, 59, 47, 0.05);
			z-index: 20;
			padding: 1rem 1.5rem;
		}

		.header-nav {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 1rem;
			flex-wrap: wrap;
			row-gap: 0.75rem;
		}

		.header-actions {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			flex-wrap: wrap;
			margin-left: auto;
		}

		.lang-group {
			display: inline-flex;
			flex-wrap: wrap;
			gap: 0.55rem;
		}

		.header-branding {
			display: flex;
			align-items: center;
			gap: 0.65rem;
		}

		.header-branding .branding-logo {
			height: 52px;
			width: auto;
			display: block;
		}

		.branding span {
			font-size: 1.4rem;
			font-weight: 700;
			display: block;
		}

		.branding small {
			font-size: 0.85rem;
			color: var(--color-muted);
		}

		.nav-links {
			display: flex;
			align-items: center;
			gap: 1.25rem;
			font-weight: 500;
		}

		.nav-links a {
			position: relative;
			padding-bottom: 0.2rem;
		}

		.nav-links a::after {
			content: '';
			position: absolute;
			left: 0;
			bottom: 0;
			width: 0;
			height: 2px;
			background: var(--color-fern);
			transition: width 0.2s ease;
		}

		.nav-links a:hover::after {
			width: 100%;
		}

		.about {
			background: #fff;
		}

		.about-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 2.5rem;
			align-items: start;
		}

		.card-stack {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.founder {
			background: var(--color-cream);
		}

		.founder-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 2rem;
			align-items: center;
		}

		.founder-media img {
			border-radius: 1.5rem;
			width: 100%;
			height: auto;
			object-fit: cover;
			box-shadow: 0 25px 60px rgba(6, 24, 12, 0.15);
		}

		.table-wrap {
			overflow-x: auto;
			border-radius: 1.25rem;
			box-shadow: 0 20px 50px rgba(6, 24, 12, 0.08);
			background: #fff;
		}

		.services-table {
			width: 100%;
			border-collapse: collapse;
			min-width: 320px;
		}

		.services-table th,
		.services-table td {
			text-align: left;
			padding: 1rem 1.25rem;
			vertical-align: top;
		}

		.services-table thead {
			background: rgba(20, 108, 67, 0.08);
			color: var(--color-deep-green);
		}

		.services-table tbody tr:nth-child(odd) {
			background: rgba(0, 0, 0, 0.01);
		}

		.services-table th:first-child,
		.services-table td:first-child {
			min-width: 180px;
			font-weight: 700;
		}

		.recommendations {
			padding: 3rem 1.5rem;
			background: linear-gradient(135deg, #f5f8f5 0%, #ffffff 100%);
			border-top: 1px solid rgba(6, 24, 12, 0.06);
			border-bottom: 1px solid rgba(6, 24, 12, 0.06);
		}

		.rec-header {
			display: grid;
			gap: 0.4rem;
			margin-bottom: 1rem;
		}

		.ticker {
			overflow: hidden;
			border-radius: 1rem;
			border: 1px solid rgba(6, 24, 12, 0.08);
			background: #fff;
			box-shadow: 0 16px 44px rgba(6, 24, 12, 0.08);
			position: relative;
		}

		.ticker-track {
			display: grid;
			gap: 1rem;
			padding: 1rem;
		}

		.rec-card {
			width: 100%;
			background: #f7faf7;
			border: 1px solid rgba(6, 24, 12, 0.06);
			border-radius: 0.9rem;
			padding: 1rem 1.1rem;
			box-shadow: 0 6px 14px rgba(6, 24, 12, 0.05);
			display: grid;
			gap: 0.6rem;
		}

		.rec-head {
			display: grid;
			grid-template-columns: auto 1fr;
			align-items: center;
			gap: 0.65rem;
		}

		.rec-logo {
			height: 52px;
			width: 52px;
			object-fit: contain;
			background: #fff;
			border-radius: 0.6rem;
			border: 1px solid rgba(6, 24, 12, 0.08);
			padding: 0.25rem;
		}

		.rec-card h3 {
			margin: 0;
			color: var(--color-deep-green);
			font-size: 1.02rem;
		}

		.rec-quote {
			margin: 0;
			color: var(--color-muted);
			line-height: 1.5;
		}

		.cta {
			padding-top: 2rem;
			padding-bottom: 4rem;
		}

		.cta-box {
			background: #fff;
			border-radius: 2rem;
			padding: clamp(2rem, 4vw, 3rem);
			box-shadow: 0 30px 80px rgba(6, 24, 12, 0.12);
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 1.5rem;
			align-items: center;
		}

		.cta-actions {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			align-items: flex-start;
		}

	</style>
</Layout>
