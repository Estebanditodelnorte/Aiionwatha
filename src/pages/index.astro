---
import Layout from '../layouts/Layout.astro';
import { pageContent } from '../content/siteContent';
import HeroSection from '../components/HeroSection.astro';
import GallerySection from '../components/GallerySection.astro';
import SiteFooter from '../components/SiteFooter.astro';
import SiteHeader from '../components/SiteHeader.astro';

const content = pageContent.fr;
const { meta, alternates, navLinks, hero, about, reasons, founder, services, story, values, topCtas, cta, footer } = content;
---

<Layout title={meta.title} description={meta.description} url={meta.url} image={meta.image} ogImageAlt={meta.imageAlt} locale={meta.locale} alternates={alternates}>
	<SiteHeader
		navLinks={navLinks}
		brandingSmall={footer.brandingSmall}
		calendlyUrl={topCtas.calendly}
		primaryCtaLabel="Prendre rendez-vous"
		langToggle={{ label: 'English', href: '/en', ariaLabel: 'Voir la version anglaise du site', lang: 'en' }}
		anchorId="accueil"
	/>

	<HeroSection hero={hero} />

	<section class="about" id="apropos">
		<div class="container about-grid">
			<div>
				<p class="section-title">{about.sectionTitle}</p>
				<h2>{about.heading}</h2>
				{about.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
			</div>
			<div class="card-stack">
				{reasons.map((reason) => (
					<div class="card">
						<h3>{reason.title}</h3>
						<p>{reason.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="founder">
		<div class="container founder-grid">
			<div class="founder-text">
				<p class="section-title">{founder.sectionTitle}</p>
				<h2>{founder.title}</h2>
				<h3>{founder.subtitle}</h3>
				{founder.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
				<div class="hero-ctas">
					<a class="button primary" href={topCtas.mail}>{founder.primaryCta}</a>
					<a class="button secondary" href={topCtas.phone}>{founder.secondaryCta}</a>
				</div>
			</div>
			<div class="founder-media">
				<img src="/images/start-up-weekend-2018.webp" alt="Steven Germain Gros-Louis lors du Start-up Weekend 2018" loading="lazy" />
			</div>
		</div>
	</section>

	<section class="services" id="services">
		<div class="container">
			<p class="section-title">{services.sectionTitle}</p>
			<h2>{services.heading}</h2>
			<div class="table-wrap">
				<table class="services-table">
					<thead>
						<tr>
							<th>Service</th>
							<th>Livrable</th>
							<th>Pourquoi maintenant</th>
						</tr>
					</thead>
					<tbody>
						{services.rows.map((row) => (
							<tr>
								<td>{row.title}</td>
								<td>{row.deliverable}</td>
								<td>{row.value}</td>
							</tr>
						))}
					</tbody>
				</table>
			</div>
		</div>
	</section>

	<GallerySection story={story} calendlyUrl={topCtas.calendly} />

	<section class="values" id="valeurs">
		<div class="container">
			<p class="section-title">{values.sectionTitle}</p>
			<h2>{values.heading}</h2>
			<div class="values-grid">
				{values.items.map((value, index) => (
					<div class="value-card">
						<span>{String(index + 1).padStart(2, '0')}</span>
						<h3>{value.title}</h3>
						<p>{value.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="cta" id="contact">
		<div class="container cta-box">
			<div>
				<p class="section-title">{cta.sectionTitle}</p>
				<h2>{cta.heading}</h2>
				<p>{cta.paragraph}</p>
			</div>
			<div class="cta-actions">
				<a class="button primary" href={topCtas.calendly} target="_blank" rel="noreferrer">{cta.primaryLabel}</a>
				<a class="button secondary" href={topCtas.mail}>{cta.secondaryLabel}</a>
			</div>
		</div>
	</section>

	<SiteFooter footer={footer} navLinks={navLinks} topCtas={topCtas} />

	<style>
		.about {
			background: #fff;
		}

		.about-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 2.5rem;
			align-items: start;
		}

		.card-stack {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.founder {
			background: var(--color-cream);
		}

		.founder-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 2rem;
			align-items: center;
		}

		.founder-media img {
			border-radius: 1.5rem;
			width: 100%;
			height: auto;
			object-fit: cover;
			box-shadow: 0 25px 60px rgba(6, 24, 12, 0.15);
		}

		.table-wrap {
			overflow-x: auto;
			border-radius: 1.25rem;
			box-shadow: 0 20px 50px rgba(6, 24, 12, 0.08);
			background: #fff;
		}

		.services-table {
			width: 100%;
			border-collapse: collapse;
			min-width: 320px;
		}

		.services-table th,
		.services-table td {
			text-align: left;
			padding: 1rem 1.25rem;
			vertical-align: top;
		}

		.services-table thead {
			background: rgba(20, 108, 67, 0.08);
			color: var(--color-deep-green);
		}

		.services-table tbody tr:nth-child(odd) {
			background: rgba(0, 0, 0, 0.01);
		}

		.services-table th:first-child,
		.services-table td:first-child {
			min-width: 180px;
			font-weight: 700;
		}

		.cta {
			padding-top: 2rem;
			padding-bottom: 4rem;
		}

		.cta-box {
			background: #fff;
			border-radius: 2rem;
			padding: clamp(2rem, 4vw, 3rem);
			box-shadow: 0 30px 80px rgba(6, 24, 12, 0.12);
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 1.5rem;
			align-items: center;
		}

		.cta-actions {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			align-items: flex-start;
		}

	</style>
</Layout>
