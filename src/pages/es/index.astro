---
import Layout from '../../layouts/Layout.astro';
import { pageContent } from '../../content/siteContent';
import HeroSection from '../../components/HeroSection.astro';
import GallerySection from '../../components/GallerySection.astro';
import SiteFooter from '../../components/SiteFooter.astro';
import SiteHeader from '../../components/SiteHeader.astro';

const content = pageContent.es;
const { meta, alternates, navLinks, hero, about, reasons, founder, services, story, values, topCtas, cta, footer } = content;

const recommendations = [
	{
		title: 'Isa Gros-Louis — Espace Max Oné Onti Gros-Louis',
		logo: '/images/emgl-logo.png',
		logoAlt: 'Logo Espace Max Oné Onti Gros-Louis',
		text: '«Trabajar con Steven fue decisivo: experiencia sólida, visión estratégica clara y consejos precisos adaptados al terreno.»'
	},
	{
		title: 'Diane Andicha Picard — Rendez-vous des artisans et artistes de Wendake',
		logo: '/images/rvaaw-logo.png',
		logoAlt: 'Logo Rendez-vous des artisans et artistes de Wendake',
		text: '«Recomendamos ampliamente a Steven por su flexibilidad, compromiso, integridad y rigor en la gestión de plazos. Desempeñó un papel significativo en la planificación de nuestro proyecto, la redacción de documentos complejos, registros financieros, asesorías y recomendaciones que mejoraron enormemente el alcance de nuestro evento.»'
	},
	{
		title: 'Dominic LeBlanc — Ministro de Pesca, Océanos y Guardia Costera de Canadá',
		logo: '/images/sig-blk-en.svg',
		logoAlt: 'Gobierno de Canadá',
		text:
			'«Este logro es el resultado del compromiso extraordinario e incansable de servidores públicos como usted. Gracias a usted y a sus colegas, Canadá vuelve a desempeñar un papel de liderazgo internacional y estamos en camino de contribuir de manera sólida a la gestión mundial de los océanos, un legado importante para las generaciones futuras.»'
	},
	{
		title: 'Emmanuel Morin — Projets Autochtones du Québec',
		logo: '/images/projets-autochtones-header.png',
		logoAlt: 'Projets Autochtones du Québec',
		text:
			'«Steven ha estado dedicado a la comunidad de los Primeros Pueblos desde su trabajo en el Museo McCord. Se ofreció como voluntario en numerosas recaudaciones de fondos y se unió al consejo administrativo para seguir el progreso de la Organización. Ha brindado todo el apoyo posible y sigue siendo un recurso valioso para Projets Autochtones du Québec.»'
	},
	{
		title: 'Camil Picard — Commission des droits de la personne et des droits de la jeunesse',
		logo: '/images/cdpdj-blue.svg',
		logoAlt: 'Commission des droits de la personne et des droits de la jeunesse',
		text:
			'«Te agradecemos calurosamente por haber contribuido al éxito de la Table de concertation jeunesse. Gracias por tu testimonio y tu implicación.»'
	},
	{
		title: 'Annabelle Laliberté y Dolorès Contré Migwans — Museo McCord',
		logo: '/images/McCord.webp',
		logoAlt: 'Museo McCord',
		text:
			'«En nombre del Jardin des Premières Nations de Montreal y del Museo McCord, te agradecemos calurosamente por la ayuda sobre la historia y la cultura hurona-wendat. Destacamos el trabajo de Steven Germain como investigador y documentalista de tradición oral para sensibilizar al público escolar sobre las Primeras Naciones y su relación con el medio ambiente. Demostró iniciativa, curiosidad, sensibilidad y empatía con los ancianos respetados, compilando información clave para construir un nuevo programa muy apreciado.»'
	},
	{
		title: 'Carl Simard — Comisión de Salud y Servicios Sociales de las Primeras Naciones de Quebec y Labrador',
		logo: '/images/Logo_CSSSPNQL.svg',
		logoAlt: 'Comisión de Salud y Servicios Sociales de las Primeras Naciones de Quebec y Labrador',
		text:
			'«Steven trabaja muy duro y se adapta a cualquier situación. Organiza su trabajo, respeta los plazos y sabe destacar los riesgos y retos locales. Es creativo, solidario con los demás y tiene la voluntad de lograr los objetivos.»'
	}
];

const marqueeItems = recommendations;
---

<Layout title={meta.title} description={meta.description} url={meta.url} image={meta.image} ogImageAlt={meta.imageAlt} locale={meta.locale} alternates={alternates}>
	<SiteHeader
		navLinks={navLinks}
		brandingSmall={footer.brandingSmall}
		calendlyUrl={topCtas.calendly}
		primaryCtaLabel="Agendar una llamada"
		langToggle={{ label: 'Français', href: '/', ariaLabel: 'Voir la version française du site', lang: 'fr' }}
		extraLangToggle={{ label: 'English', href: '/en', ariaLabel: 'View the English version of the site', lang: 'en' }}
		anchorId="home"
	/>

	<HeroSection hero={hero} />

	<section class="about" id="about">
		<div class="container about-grid">
			<div>
				<p class="section-title">{about.sectionTitle}</p>
				<h2>{about.heading}</h2>
				{about.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
			</div>
			<div class="card-stack">
				{reasons.map((reason) => (
					<div class="card">
						<h3>{reason.title}</h3>
						<p>{reason.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="founder">
		<div class="container founder-grid">
			<div class="founder-text">
				<p class="section-title">{founder.sectionTitle}</p>
				<h2>{founder.title}</h2>
				<h3>{founder.subtitle}</h3>
				{founder.paragraphs.map((paragraph) => (
					<p>{paragraph}</p>
				))}
				<div class="hero-ctas">
					<a class="button primary" href={topCtas.mail}>{founder.primaryCta}</a>
					<a class="button secondary" href={topCtas.phone}>{founder.secondaryCta}</a>
				</div>
			</div>
			<div class="founder-media">
				<img src="/images/start-up-weekend-2018.webp" alt="Steven Germain Gros-Louis en el Start-up Weekend 2018" loading="lazy" />
			</div>
		</div>
	</section>

	<section class="services" id="services">
		<div class="container">
			<p class="section-title">{services.sectionTitle}</p>
			<h2>{services.heading}</h2>
			<div class="table-wrap">
				<table class="services-table">
					<thead>
						<tr>
							<th>Servicio</th>
							<th>Entregable</th>
							<th>Por qué ahora</th>
						</tr>
					</thead>
					<tbody>
						{services.rows.map((row) => (
							<tr>
								<td>{row.title}</td>
								<td>{row.deliverable}</td>
								<td>{row.value}</td>
							</tr>
						))}
					</tbody>
				</table>
			</div>
		</div>
	</section>

	<GallerySection story={story} calendlyUrl={topCtas.calendly} showRecommendations={false} />

	<section class="values" id="values">
		<div class="container">
			<p class="section-title">{values.sectionTitle}</p>
			<h2>{values.heading}</h2>
			<div class="values-grid">
				{values.items.map((value, index) => (
					<div class="value-card">
						<span>{String(index + 1).padStart(2, '0')}</span>
						<h3>{value.title}</h3>
						<p>{value.text}</p>
					</div>
				))}
			</div>
		</div>
	</section>

	<section class="recommendations" aria-label="Recomendaciones en rotación">
		<div class="container">
			<div class="rec-header">
				<p class="section-title">Recomendaciones</p>
				<h2>Lo que dicen nuestros socios</h2>
				<p class="intro">Dos referencias clave que muestran el impacto de nuestras colaboraciones.</p>
			</div>
			<div class="ticker">
				<div class="ticker-track">
					{marqueeItems.map((rec, index) => (
						<article class="rec-card" aria-hidden={index >= recommendations.length}>
							<div class="rec-head">
								{rec.logo ? <img class="rec-logo" src={rec.logo} alt={rec.logoAlt ?? rec.title} loading="lazy" /> : null}
								<h3>{rec.title}</h3>
							</div>
							<p class="rec-quote">{rec.text}</p>
						</article>
					))}
				</div>
			</div>
		</div>
	</section>

	<section class="cta" id="contact">
		<div class="container cta-box">
			<div>
				<p class="section-title">{cta.sectionTitle}</p>
				<h2>{cta.heading}</h2>
				<p>{cta.paragraph}</p>
			</div>
			<div class="cta-actions">
				<a class="button primary" href={topCtas.calendly} target="_blank" rel="noreferrer">{cta.primaryLabel}</a>
				<a class="button secondary" href={topCtas.mail}>{cta.secondaryLabel}</a>
			</div>
		</div>
	</section>

	<SiteFooter footer={footer} navLinks={navLinks} topCtas={topCtas} />

	<style>
		.about {
			background: #fff;
		}

		.about-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 2.5rem;
			align-items: start;
		}

		.card-stack {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.founder {
			background: var(--color-cream);
		}

		.founder-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 2rem;
			align-items: center;
		}

		.founder-media img {
			border-radius: 1.5rem;
			width: 100%;
			height: auto;
			object-fit: cover;
			box-shadow: 0 25px 60px rgba(6, 24, 12, 0.15);
		}

		.table-wrap {
			overflow-x: auto;
			border-radius: 1.25rem;
			box-shadow: 0 20px 50px rgba(6, 24, 12, 0.08);
			background: #fff;
		}

		.services-table {
			width: 100%;
			border-collapse: collapse;
			min-width: 320px;
		}

		.services-table th,
		.services-table td {
			text-align: left;
			padding: 1rem 1.25rem;
			vertical-align: top;
		}

		.services-table thead {
			background: rgba(20, 108, 67, 0.08);
			color: var(--color-deep-green);
		}

		.services-table tbody tr:nth-child(odd) {
			background: rgba(0, 0, 0, 0.01);
		}

		.services-table th:first-child,
		.services-table td:first-child {
			min-width: 180px;
			font-weight: 700;
		}

		.recommendations {
			padding: 3rem 1.5rem;
			background: linear-gradient(135deg, #f5f8f5 0%, #ffffff 100%);
			border-top: 1px solid rgba(6, 24, 12, 0.06);
			border-bottom: 1px solid rgba(6, 24, 12, 0.06);
		}

		.rec-header {
			display: grid;
			gap: 0.4rem;
			margin-bottom: 1rem;
		}

		.ticker {
			overflow: hidden;
			border-radius: 1rem;
			border: 1px solid rgba(6, 24, 12, 0.08);
			background: #fff;
			box-shadow: 0 16px 44px rgba(6, 24, 12, 0.08);
			position: relative;
		}

		.ticker-track {
			display: grid;
			gap: 1rem;
			padding: 1rem;
		}

		.rec-card {
			width: 100%;
			background: #f7faf7;
			border: 1px solid rgba(6, 24, 12, 0.06);
			border-radius: 0.9rem;
			padding: 1rem 1.1rem;
			box-shadow: 0 6px 14px rgba(6, 24, 12, 0.05);
			display: grid;
			gap: 0.6rem;
		}

		.rec-head {
			display: grid;
			grid-template-columns: auto 1fr;
			align-items: center;
			gap: 0.65rem;
		}

		.rec-logo {
			height: 52px;
			width: 52px;
			object-fit: contain;
			background: #fff;
			border-radius: 0.6rem;
			border: 1px solid rgba(6, 24, 12, 0.08);
			padding: 0.25rem;
		}

		.rec-card h3 {
			margin: 0;
			color: var(--color-deep-green);
			font-size: 1.02rem;
		}

		.rec-quote {
			margin: 0;
			color: var(--color-muted);
			line-height: 1.5;
		}

		.cta {
			padding-top: 2rem;
			padding-bottom: 4rem;
		}

		.cta-box {
			background: #fff;
			border-radius: 2rem;
			padding: clamp(2rem, 4vw, 3rem);
			box-shadow: 0 30px 80px rgba(6, 24, 12, 0.12);
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 1.5rem;
			align-items: center;
		}

		.cta-actions {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			align-items: flex-start;
		}
	</style>
</Layout>
